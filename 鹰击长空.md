## 鹰击长空

### 策划案

主场景

主界面

游戏界面

结算界面

主场景分为3d场景分为两部分，第一部分是飞机模型、子弹、道具和爆炸以及飞机尾部火焰粒子，雾和星空粒子，以及第二部分的背景，山石和球



### 核心功能

1、进入游戏后背景从开始一直循环向下播放，玩家飞机停留在屏幕中下方

2、玩家滑动屏幕控制飞机的移动，且正式开始游戏。飞机可以飞到屏幕上任意位置并以0.3s射击一次向前方射出子弹

3、游戏开始后敌人以时间轴微基础，安排敌机以组合方式飞入

​	3.1、组合是固定的由程序直接制作

​	3.2、组合内包含：飞机幸好、子弹样式、初始位置、移动

​	组合1:单架飞机；组合2:一字型；组合3:v字型

游戏开始时间   0-10  11-20  20+

组合                  1      1、2   1、2、3

组合间隔         1         0.8        0.6

4、玩家和敌机都糊辐射子弹。玩家在游戏中手机道具即可更换子弹样式，子弹样式分为以下三种：

1、h型：直线发射两发白色小子弹

2、s型：扇形发射3发红色小子弹，夹角微45度

3、m型：直线发射1发月牙子弹

不同子弹可以根据需要自行配置不同的飞行速度和体积，以上子弹也可以配置给敌机使用

5、飞机自带血条，被击中显示血条，血条显示在飞机下方，且跟随移动。血条底框为黑色，上方为绿色就是它可以在中途更换子弹

### 核心功能

6、玩家在游戏中收集道具可以更换子弹样式。道具的类型和出现方式如下：

​	1、道具每10s出现一个，出现类型为smh的一种

​	2、道具最后以s型方式前景，速度比敌机慢

​	3、射击时子弹类型不会改变，直到收集到与当前模式不相同的道具才会切换

7、敌机子弹和自身会对玩家造成+1伤害，玩家飞机0时游戏结束，进入结算界面。敌机生命为0时，玩家得到相应分数

9、游戏为无尽模式，直到玩家死亡游戏才会结束

### 必要功能

1、飞机死亡的爆炸动画

2、飞机受击需要播放受击音效和更新血量

3、游戏开始需要播放背景音乐

4、飞机有启动火焰



### cocos编程

生命周期

装饰器

@executeineditmode(ture)，让组件在编辑器上运行

@property，声明组件可以在编辑器显示的开放属性的装饰器

@property(material)

Public bar:material = null

@menu('customScript/manager') 是能够决定就是你这个组件它的存放的分类

@requirecomponent(xxxxx)，组件被添加到节点时是否有依赖，

系统事件使用

全局系统事件

1、鼠标事件

mouse_down

mouse_move 在按下的状态移动

mouse_up

mouse_wheel 鼠标滚轮

2、触摸事件

Touch_start

Touch_move

Touch_end

Touch_cancel,使用在更高级事件中，例如电话、短信和暂停游戏或存档等操作

3、键盘事件

key_down 键盘按下

key_up 键盘抬起

4、设备重力传感事件

devicemotion 重力感应

事件类型通过systemevent.eventtype

节点系统事件

鼠标事件与系统事件

鼠标

mouse_enter

Mouse_leave

系统事件

(object).on(type, callback,target?,userCapture?)

(object).once(type,callback,target?,useCapture?)

(object).off(type, callback?,target?,useCapture?)

systemEvent.on(...)

This.node.on(...)

Touch.getuilocation 获取屏幕触点信息

Touch.getlocation 获取屏幕触点信息

一般使用temp_vec2来存放获取到的触点信息，适合即用即丢

实现飞机移动逻辑和子弹发射逻辑



